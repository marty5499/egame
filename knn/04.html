<html>

<body style='background-color: black;'>
    <script src='kdTree.js'></script>
    <script src='knn.js'></script>
    <script src='gameUI.js'></script>
    <canvas id='myCanvas' width='500' height='500'></canvas>
    <script>
        (async function () {
            var sleep = milliseconds => new Promise(resolve => setTimeout(resolve, milliseconds));

            var imgURL = 'https://cdn.pixabay.com/photo/2015/12/01/15/43/black-1072366_960_720.jpg';
            var ga = new GameUI({
                'canvasId': 'myCanvas',
                'grid':true,
                'backgroundImageURL': imgURL
            });
            
            await ga.init();
            var obj = {
                x: 3, y: 3,
                img: {
                    url: 'https://md.kingkit.codes/uploads/upload_cd6ade2823442fc61bd23435b1cc070f.png',
                    width: 32, height: 32
                }
            };
            await ga.addObj(obj);
            await ga.addObj(ga.cloneObj(obj,5,5));
            for(var i=1;i<=3;i=i+0.5){
                await sleep(500);
                await ga.refresh();
                ga.setKVal(1).setDVal(i);
                ga.drawRange(obj, color = '#fef233', lineWidth = 2);
            }
            window.ga = ga;
        })()
    </script>
</body>

</html>